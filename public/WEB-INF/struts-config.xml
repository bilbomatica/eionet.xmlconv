<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
    <form-beans>
	    <form-bean name="loginForm" type="eionet.gdem.web.struts.login.LoginForm" />
        <form-bean name="stylesheetForm" type="eionet.gdem.web.struts.stylesheet.StylesheetForm" />
        <form-bean name="schemaForm" type="eionet.gdem.web.struts.schema.SchemaElemForm" />     
        <form-bean name="ListConvForm" type="eionet.gdem.web.struts.conversion.ListConvForm" />   
        <form-bean name="TestConvForm" type="eionet.gdem.web.struts.conversion.TestConvForm" />           
        <form-bean name="UplSchemaForm" type="eionet.gdem.web.struts.schema.UplSchemaForm" />                   
   		<form-bean name="dynamicItemForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="temp" type="java.util.HashMap"/>
        </form-bean>
        <form-bean name="imageForm" type="eionet.gdem.web.struts.uimanage.ImageManagerForm"/>
        <form-bean name="ldapForm" type="eionet.gdem.web.struts.config.LdapForm"/>
        <form-bean name="dbForm" type="org.apache.struts.validator.DynaValidatorForm">
	        <form-property name="dbUrl" type="java.lang.String"/>
        	<form-property name="user" type="java.lang.String"/>
        	<form-property name="password" type="java.lang.String"/>
        </form-bean>   
        <form-bean name="EditUplSchemaForm" type="eionet.gdem.web.struts.schema.EditUplSchemaForm"/>   
             
    </form-beans>

    <global-forwards>
        <forward name="home" path="/do/stylesheetList" redirect="true" />
        <forward name="loginForm" path="/login.jsp" redirect="true" />
        <forward name="error" path="/error.jsp" redirect="true" />
    </global-forwards>
    
    <action-mappings>
        <action path="/start" type="eionet.gdem.web.struts.StartAction">
            <forward name="login" path="/do/login" redirect="true"/>            
        </action>
        <action path="/login" input="/login.jsp" name="loginForm" scope="request" type="eionet.gdem.web.struts.login.LoginAction" validate="true">           
        </action>        
        <action path="/stylesheetList" type="eionet.gdem.web.struts.stylesheet.StylesheetListAction">
            <forward name="success" path="/stylesheetList.jsp" redirect="true"/>            
        </action>
        <action path="/deleteSchema"  scope="request" type="eionet.gdem.web.struts.stylesheet.SchemaDeleteAction">           
        	<forward name="success" path="/do/stylesheetList"  />            
        </action>        
        <action path="/schemaStylesheets" type="eionet.gdem.web.struts.stylesheet.SchemaStylesheetAction">   
	        <forward name="success" path="/schemaStylesheets.jsp"/>                      
        </action>
        <action path="/deleteStylesheet"  scope="request" type="eionet.gdem.web.struts.stylesheet.StylesheetDeleteAction">           
        	<forward name="success" path="/do/schemaStylesheets" />            
        </action>        
        <action path="/addStylesheetForm" type="eionet.gdem.web.struts.stylesheet.ConvTypeAction">   
	        <forward name="success" path="/addStylesheet.jsp" />                      
        </action>
        <action path="/stylesheetAdd" input="/addStylesheet.jsp" name="stylesheetForm"
            type="eionet.gdem.web.struts.stylesheet.AddStylesheetAction">
            <forward name="success" path="/do/schemaStylesheets"/>
            <forward name="fail" path="/do/addStylesheetForm" redirect="true"/>						   
        </action>
        <action path="/stylesheetEditForm" name="stylesheetForm" type="eionet.gdem.web.struts.stylesheet.EditStylesheetFormAction" input="/editStylesheet.jsp" scope="request">
            <forward name="success" path="/editStylesheet.jsp" redirect="true" />
        </action>
        <action path="/stylesheetEdit" input="/editStylesheet.jsp" name="stylesheetForm"
            type="eionet.gdem.web.struts.stylesheet.EditStylesheetAction" scope="request">
             <forward name="success" path="/do/schemaStylesheets"/>
             <forward name="fail" path="/editStylesheet.jsp" redirect="true"/>
        </action>
        <action path="/schemaElemForm" name="schemaForm" type="eionet.gdem.web.struts.schema.SchemaElemFormAction" input="/schema.jsp" scope="request">
            <forward name="success" path="/schema.jsp" redirect="true"/>
        </action>
        <action path="/deleteElem"  scope="request" type="eionet.gdem.web.struts.schema.DeleteRootElemAction">           
        	<forward name="success" path="/do/schemaElemForm"  redirect="true"/>            
        </action>        
        <action path="/elementAdd" name="schemaForm" scope="request" type="eionet.gdem.web.struts.schema.AddElemAction">           
        	<forward name="success" path="/do/schemaElemForm" redirect="true" />            
        </action>        
        <action path="/schemaUpdate" name="schemaForm" scope="request" type="eionet.gdem.web.struts.schema.EditSchemaAction">           
        	<forward name="back" path="/do/stylesheetEdit"/>
        	<forward name="success" path="/do/schemaElemForm"/>
        </action>        
        <action path="/listConvForm"  type="eionet.gdem.web.struts.conversion.ListConvFormAction" input="/listConv.jsp" scope="request">
            <forward name="success" path="/listConv.jsp" redirect="true"/>
        </action>
        <action path="/testConversion" name="ListConvForm" type="eionet.gdem.web.struts.conversion.ListConvFormAction" input="/listConv.jsp" scope="request">
            <forward name="success" path="/listConv.jsp" redirect="true"/>
        </action>
        <action path="/listConv" name="ListConvForm" type="eionet.gdem.web.struts.conversion.ListConvAction" input="/listConv.jsp" scope="request">
            <forward name="success" path="/do/testConversionForm"/>
        </action>
        <action path="/testConversionForm" name="TestConvForm" type="eionet.gdem.web.struts.conversion.TestConvFormAction" input="/testConv.jsp" scope="request">
            <forward name="success" path="/testConv.jsp" />
        </action>
        <action path="/uplSchemas"  type="eionet.gdem.web.struts.schema.UplSchemaFormAction" input="/testConv.jsp" scope="request">
            <forward name="success" path="/uplSchema.jsp" />
        </action>
        <action path="/deleteUplSchema"  scope="request" type="eionet.gdem.web.struts.schema.DeleteUplSchemaAction">           
        	<forward name="success" path="/do/uplSchemas"  redirect="true"/>            
        </action>        
        <action path="/addUplSchemaForm"  scope="request" type="eionet.gdem.web.struts.schema.AddUplSchemaFormAction">           
        	<forward name="success" path="/addUplSchema.jsp"  redirect="true"/>            
        </action>        
        <action path="/addUplSchema"  scope="request" type="eionet.gdem.web.struts.schema.AddUplSchemaAction" name="UplSchemaForm">           
        	<forward name="success" path="/do/uplSchemas"  redirect="true"/>            
        	<forward name="fail" path="/do/addUplSchemaForm"  redirect="true"/>
        </action>        
        <action path="/editUplSchemaForm" name="EditUplSchemaForm" type="eionet.gdem.web.struts.schema.EditUplSchemaFormAction" input="/editUplSchema.jsp" scope="request">
            <forward name="success" path="/editUplSchema.jsp" redirect="true" />
        </action>
        <action path="/editUplSchema"  scope="request" type="eionet.gdem.web.struts.schema.EditUplSchemaAction" name="EditUplSchemaForm">           
        	<forward name="success" path="/do/uplSchemas"  redirect="true"/>            
        </action>        


 <!-- Edit UI -->
        <action path="/editUI/imageManagerSetup" type="eionet.gdem.web.struts.uimanage.ImageManagerSetupAction"
        name="imageForm" scope="request">
        <forward name="success" path="/editUI/ImageManager.jsp"/>
        </action>
        <action path="/editUI/imageManager" type="eionet.gdem.web.struts.uimanage.ImageManagerAction"
        name="imageForm" scope="request">
        <forward name="uploaded" path="/editUI/ImageManager.jsp"/>
        </action>
       <action path="/editUI/viewFooter" type="eionet.gdem.web.struts.uimanage.ViewTemplateAction"
        name="dynamicItemForm" parameter="footer" scope="request" validate="false">
            <forward name="footer" path="/editUI/FooterManager.jsp"/>
        </action>
        <action path="/editUI/viewHeader" type="eionet.gdem.web.struts.uimanage.ViewTemplateAction"
        name="dynamicItemForm" parameter="header" scope="request" validate="false" >
            <forward name="header" path="/editUI/HeaderManager.jsp"/>
        </action>
        <action path="/editUI/processTemplate" type="eionet.gdem.web.struts.uimanage.ProcessTemplateAction"
    	name="dynamicItemForm" scope="request" validate="false">
    		<forward name="footer" path="/do/editUI/viewFooter" redirect="true"/>
    		<forward name="header" path="/do/editUI/viewHeader" redirect="true"/>
    	</action>
        <action path="/ldapForm" type="eionet.gdem.web.struts.config.LdapFormAction"
    	name="ldapForm" scope="request" validate="false">
    		<forward name="success" path="/configLdap.jsp" redirect="true"/>
    	</action>
        <action path="/ldap" input="/configLdap.jsp" name="ldapForm"
            type="eionet.gdem.web.struts.config.LdapAction" scope="request">
             <forward name="success" path="/do/ldapForm" redirect="true"/>
        </action>
        <action path="/dbForm" type="eionet.gdem.web.struts.config.DbFormAction"
    	name="dbForm" scope="request" validate="false">
    		<forward name="success" path="/configDb.jsp" redirect="true"/>
    	</action>
        <action path="/db" input="/configDb.jsp" name="dbForm"
            type="eionet.gdem.web.struts.config.DbAction" scope="request">
             <forward name="success" path="/do/dbForm" redirect="true"/>
        </action>
    </action-mappings>
    
    
    <controller processorClass="eionet.gdem.web.struts.RequestProcessor" />
    <message-resources null="true" parameter="ApplicationResources" />
    <plug-in className="org.apache.struts.tiles.TilesPlugin">
        <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
    </plug-in>
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
    	<set-property property="pathnames" value="/WEB-INF/validator-rules.xml, /WEB-INF/validation.xml" />
	 </plug-in>
    
</struts-config>
